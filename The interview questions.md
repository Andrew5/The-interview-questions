# The interview questions

##### 1、多网络请求 

答：

##### 2、项目协议

答：

##### 3、RAC的zip 实现，swift的数组

答：

##### 4、网络请求的缓存处理，NSCache原理，LRU MRU 缓存原理，SKU SPU组合算法探究

答：

##### 5、pod install 与 pod update的区别

答：（*添加*、*更新*、*删除*）使用。

每一次运行`pod install`命令后，都会去下载安装新的库，并且会修改`Podfile.lock`文件中记录的库的版本。`Podfile.lock`文件是用来追踪和锁定这些库的版本的。

运行`pod install`后，它仅仅只能解决`Podfile.lock`中没有列出来的依赖关系。

在`Podfile.lock`中列出的那些库，也仅仅只是去下载`Podfile.lock`中指定的版本，并不会去检查最新的版本。

没有在`Podfile.lock`中列出的那些库，会去检索`Podfile`中指定的版本，比如`pod ‘myPod’, ‘~>1.2’

当你运行了 `pod update PODNAME`命令，**CocoaPods**将不会考虑`Podfile.lock`中列出的版本，而直接去查找该库的新版本。它将更新到这个库尽可能新的版本，只要符合`Podfile`中的版本限制要求。

如果使用`pod update` 命令不带库名称参数，**CocoaPods**将会去更新`Podfile`中每一个库的尽可能新的版本。

使用`pod update`仅仅只是去更新指定库的版本（或者全部库）。

提交你的Podfile.lock文件:

提醒一下，即使你一向不**commit**你的库文件到你的共享仓库，你也应该总是**commit & push**到你的`Podfile.lcok`文件中。

否则，就会破坏掉`pod install` 的整个设计逻辑，造成`Podfile.lock`文件无法锁定你已经安装的库。



##### 6、手写链表是否有环？

答：

##### 7、lldb 咋调试 iOS 真机的LLVM 

答：

##### 8、SSA 静态单赋值咋做的？

答：

##### 9、NSMutableArray copy ？

答：

##### 10、NSMutableArray 增删 ？

答：

##### 11、Block 内部修改临时变量及内存变化 ？

答：

##### 12、Category添加属性？分类和扩展的区别？为什么不能直接添加属性

答：分类（Category）是OC中的特有语法，它是表示一个指向分类的结构体的指针。原则上它只能增加方法，不能增加成员（实例）变量。具体原因看源码组成，Category 是表示一个指向分类的结构体的指针，其定义如下：

`**struct** objc_category {

  **char** * **_Nonnull** category_name              OBJC2_UNAVAILABLE;

  **char** * **_Nonnull** class_name                OBJC2_UNAVAILABLE;

  **struct** objc_method_list * **_Nullable** instance_methods   OBJC2_UNAVAILABLE;

  **struct** objc_method_list * **_Nullable** class_methods    OBJC2_UNAVAILABLE;

  **struct** objc_protocol_list * **_Nullable** protocols     OBJC2_UNAVAILABLE;

}  `

根本没有属性列表；

注意：
1.分类是用于给原有类添加方法的,因为分类的结构体指针中，没有属性列表，只有方法列表。所以< 原则上讲它只能添加方法, 不能添加属性(成员变量),实际上可以通过其它方式添加属性> ;
2.分类中的可以写@property, 但不会生成setter/getter方法, 也不会生成实现以及私有的成员变量（编译时会报警告）;
3.可以在分类中访问原有类中.h中的属性;
4.如果分类中有和原有类同名的方法, 会优先调用分类中的方法, 就是说会忽略原有类的方法。所以同名方法调用的优先级为 分类 > 本类 > 父类。因此在开发中尽量不要覆盖原有类;
5.如果多个分类中都有和原有类中同名的方法, 那么调用该方法的时候执行谁由编译器决定；编译器会执行最后一个参与编译的分类中的方法。

类别与类扩展的区别：
①类别中原则上只能增加方法（能添加属性的的原因只是通过runtime解决无setter/getter的问题而已）；
②类扩展不仅可以增加方法，还可以增加实例变量（或者属性），只是该实例变量默认是@private类型的（
用范围只能在自身类，而不是子类或其他地方）；
③类扩展中声明的方法没被实现，编译器会报警，但是类别中的方法没被实现编译器是不会有任何警告的。这是因为类扩展是在编译阶段被添加到类中，而类别是在运行时添加到类中。
④类扩展不能像类别那样拥有独立的实现部分（@implementation部分），也就是说，类扩展所声明的方法必须依托对应类的实现部分来实现。
⑤定义在 .m 文件中的类扩展方法为私有的，定义在 .h 文件（头文件）中的类扩展方法为公有的。类扩展是在 .m 文件中声明私有方法的非常好的方式。

##### 13、类是怎么被创建出来的？

答：

##### 14、NSMutableArray 对临时变量addObject 时，临时变量内存变化 failed

答：

##### 15、NSDictionary存储结构如何解决hash冲突 failed

答：

##### 16、NSNotification原理，如何处理对象释放问题 ？

答：

##### 17、Category为什么只能加方法不能加属性 ？

答：

##### 18、async mainThread 与 runloop 关系 ？

###### 答：

##### 19、sdwebimage图片缓存框架设计 ？

答：

##### 20、多个线程，操作同一个可变数组，会有什么后果？

答：

##### 21、MJ底层班说继承NSProxy的类本类的方法列表找不到imp，不会去父类查找，测试下来会去父类查找，请问一下Proxy的查找机制在哪里看到呢？

答：

##### 22、for in，是怎么实现的？

答：

##### 23、for in 跟for int i, i<10, i++的写法有什么不同？

答：

##### 24、FIFO FILO FRU原理？

答：

##### 25、编译原理和计算机组成原理

答：

##### 26、KVO的实现原理？

答：

##### 27、KVC的实现原理？

答：

##### 28、top level code

答：在App工程里， `.swift`文件都是编译成模块的，不能有`top level code`。

先明确一个概念，一个`.swift`文件执行是从它的第一条`非声明语句（`表达式、控制结构）开始的，同时包括声明中的赋值部分，所有这些语句，构成了该`.swift`文件的`top_level_code()`函数。而所有的声明，包括结构体、类、枚举及其方法，都不属于 `top_level_code()`代码部分，其中的代码逻辑，包含在其他区域，`top_level_code()`可以直接调用他们。程序的入口是隐含的一个 `main(argc, argv)`函数，该函数执行逻辑是设置全局变量`C_ARGC C_ARGV`，然后调用 top_level_code()。不是所有的 .swift 文件都可以作为模块，目前看，任何包含表达式语句和控制语句的 .swift 文件都不可以作为模块。正常情况下模块可以包含全局变量(var)、全局常量(let)、结构体(struct)、类(class)、枚举(enum)、协议(protocol)、扩展(extension)、函数(func)、以及全局属性(var { get set })。这里的全局，指的是定义在 top level 。这里说的表达式指`expression`，语句指 `statement` ，声明指`declaration` 。因此，如果代码中直接在类的外面调用类内部的方法，则该.swift 文件是编译不成的模块的，所以会编译报错。

##### 29、mach port的具体的原理过程

答：

##### 30、单例

答：一个单例类，在整个程序中只有一个实例，并且提供一个类方法供全局调用，在编译时初始化这个类，然后一直保存在内存中，到程序（APP）退出时由系统自动释放这部分内存

##### 31、方法重载和方法重写

答：重载发生在**编译时**，而重载发生在运行时:重载方法调用与其定义的绑定(bind)发生在编译时，但是重载方法调用对其定义的绑定(bind)发生在**运行时**。

静态方法可以重载，这意味着一个类可以具有多个同名的静态方法。静态方法不能被覆盖，即使您在子类中声明了相同的静态方法，也与父类的相同方法无关。

最基本的区别在于，重载是在同一类中完成的，而要覆盖基类和子类，则需要重载。重写就是为父类的继承方法提供特定的实现。

**静态绑定****(bind)**用于重载方法，**动态绑定****(bind)**用于重载/覆盖方法。

性能:与覆盖相比，重载可提供更好的性能。原因是重写的方法的绑定(bind)是在运行时完成的。

private和final方法可以重载，但是不能被覆盖。这意味着一个类可以具有多个同名的私有(private)/ final方法，但是子类不能覆盖其基类的私有(private)/ final方法。

在方法重载的情况下，方法的返回类型无关紧要，可以相同也可以不同。但是，在方法重写的情况下，重写方法可以具有更特定的返回类型([refer this](https://stackoverflow.com/questions/14694852/can-overridden-methods-differ-in-return-type))。

执行方法重载时，参数列表应有所不同。参数列表应与方法覆盖中的相同。

覆盖需要继承，而无需重载。

##### 32、提问 retrofit 的adapter 使用了哪些设计模式

答：

##### 33、讲讲你对atomic & nonatomic的理解

答：

##### 34、被 weak 修饰的对象在被释放的时候会发生什么？是如何实现的？知道sideTable 么？里面的结构可以画出来么？

答：

##### 35、block 用什么修饰？strong 可以？

答：

##### 36、block 为什么能够捕获外界变量？__block做了什么事？

答：

##### 37、谈谈你对事件的传递链和响应链的理解

答：

##### 38、谈谈 KVC 以及 KVO 的理解

答：

##### 39、RunLoop 的作用是什么？它的内部工作机制了解么？

答：

##### 40、苹果是如何实现 autoreleasepool的？

答：

##### 41、谈谈你对 FRP (函数响应式) 的理解，延伸一下 RxSwift 或者 RAC！

答：

#### Runtime相关问题

##### 42、 什么是 isa，isa 的作用是什么？

答：

##### 43、一个实例对象的isa 指向什么？类对象指向什么？元类isa 指向什么？

答：

##### 44、objc中类方法和实例方法有什么本质区别和联系？

答：

##### 45、 load 和 initialize 的区别？

答：

##### 46、 _objc_msgForward 函数是做什么的？直接调用会发生什么问题？

答：

##### 47、 简述下 Objective-C 中调用方法的过程

答：

##### 48、能否想象编译后得到的类中增加实例变量？能否向运行时创建的类中添加实例变量？为什么？

答：

##### 49、谈谈你对切面编程的理解

答：

#### 网络&多线程问题

##### 50、 HTTP的缺陷是什么？

答：

##### 50、谈谈三次握手，四次挥手！为什么是三次握手，四次挥手？

答：

##### 51、socket 连接和 Http 连接的区别

答：

##### 52、HTTPS，安全层除了SSL还有，最新的？参数握手时首先客户端要发什么额外参数

答：

##### 53、什么时候POP网络，有了 Alamofire 封装网络 URLSession为什么还要用Moya ？

答：

##### 54、如何实现 dispatch_once

答：

##### 55、能否写一个读写锁？谈谈具体的分析

答：

##### 56、什么时候会出现死锁？如何避免？

答：

##### 57、 有哪几种锁？各自的原理？它们之间的区别是什么？

答：

#### 数据结构问题

##### 58、 数据结构的存储一般常用的有几种？各有什么特点？

答：

##### 59、 集合结构 线性结构 树形结构 图形结构

答：

##### 60、 单向链表 双向链表 循环链表 

答：

####  数组和链表区别 

##### 61、 堆、栈和队列

答：

##### 62、 输入一棵二叉树的根结点，求该树的深度？

答：

##### 63、 输入一棵二叉树的根结点，判断该树是不是平衡二叉树？

答：

#### 算法问题

##### 64、 时间复杂度

答：

##### 65、 空间复杂度

答：

##### 66、 常用的排序算法

答：

##### 67、 字符串反转

答：

##### 68、 链表反转（头差法）

答：

##### 69、 有序数组合并

答：

##### 70、 查找第一个只出现一次的字符（Hash查找）

答：

##### 71、 查找两个子视图的共同父视图

答：

##### 72、 无序数组中的中位数(快排思想)

答：

##### 73、 给定一个整数数组和一个目标值，找出数组中和为目标值的两个数。

答：

#### 架构设计问题

##### 74、 设计模式是为了解决什么问题的？

答：

##### 75、 看过哪些第三方框架的源码，它们是怎么设计的？

答：

##### 76、 可以说几个重构的技巧么？你觉得重构适合什么时候来做？

答：

##### 77、 开发中常用架构设计模式你怎么选型?

答：

##### 78、 你是如何组件化解耦的？

答：

#### 性能优化问题

##### 79、 tableView 有什么好的性能优化方案？

答：

##### 80、 界面卡顿和检测你都是怎么处理？

答：

##### 81、 谈谈你对离屏渲染的理解？

答：

##### 82、 如何降低APP包的大小

答：

##### 83、 日常如何检查内存泄露？

答：

##### 84、 APP启动时间应从哪些方面优化？

答：

##### 85、堆栈解释一下，内存分配的方向？为什么堆低到高？栈高到低？

答：

##### 86、如何自定义一个三角形按钮？点击区域怎么做？

答：

##### 87、解决循环引用的几种方式？重点问__block，局部变量，全局变量，静态变量，可变数组，哪些需要__block修饰，哪些不需要？为什么

##### __block捕获的变量，为什么可以修改变量值（forwarding指针）？

答：

##### 88、自动释放池原理讲一下？为什么要用双向链表？

答：

##### 89、性能优化你了解吗？说说你了解的方面，介绍一下

答：

##### 90、UIKit这个框架，在程序运行的时候是放在内存中什么区域的？

答：

##### 91、category与extension，category可以添加私有方法吗？category为什么不能添加成员变量？为什么能添加方法？

答：

##### 92、category重写了类的方法后，调用该方法，会发生什么？为什么走到category里面了？

答：

##### 93、load方法和initialize方法介绍一下调用时机

答：

##### 94、block嵌套block（第一个block外部已经用了weakSelf，内部用strongSelf重新强引用了），想在第二个block内部用strongSelf，怎么办？

答：

##### 95、weak的原理介绍一下

答：

##### 96、为什么block内部对weakSelf使用strongSelf没修饰有造成强引用？

答：

##### 97、为什么要用strongSelf（防止block执行时self被释放），那你举例说一个self被释放的场景

答：

##### 98、哈希冲突解决办法介绍一下

答：

##### 99、常见的内存泄露有哪几种？分别怎么解决

答：

##### 100、手写一个属性在mrc下的set方法

答：

##### 101、@dynamic的使用场景

答：

##### 103、RSA加密和MD5加密你了解吗（不了解）？

答：

##### 104、Charles可以抓https的原理

答：

##### 105、MVVM是如何进行双向绑定的？在viewmodel内部可以处理哪些事情？

答：

##### 106、UILable自适应是怎么实现的？

答：

##### 107、介绍一下多线程，GCD的高级用法，NSoperation重写要注意什么？

答：

##### 108、OC如何实现多继承？

答：

##### 109、讲讲组件化方面的东西，你认为什么是组件化，哪些可以实现组件化

答：

##### 110、调用runtime registerClass方法，创建出来了几个类？

答：

##### 111、iOS内存区域介绍一下

答：






